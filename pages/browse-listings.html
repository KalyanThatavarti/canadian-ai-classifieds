<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description"
        content="Browse thousands of classifieds across Canada. Find great deals on electronics, vehicles, furniture, real estate, and more.">
    <title>Browse Listings | Canadian AI Classifieds</title>

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=Playfair+Display:wght@400;500;600;700;800&display=swap"
        rel="stylesheet">

    <!-- Stylesheets -->
    <link rel="stylesheet" href="../css/styles.css">
    <link rel="stylesheet" href="../css/header.css">
    <link rel="stylesheet" href="../css/browse-listings.css">
    <link rel="stylesheet" href="../css/search-autocomplete.css">
</head>

<body>
    <!-- Premium Glassmorphic Header -->
    <header class="site-header">
        <!-- Top Bar -->
        <div class="top-bar">
            <div class="top-bar-container">
                <div class="top-bar-left">
                    <a href="#" class="location-selector">
                        <svg class="location-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z">
                            </path>
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"></path>
                        </svg>
                        <span>Toronto, ON</span>
                    </a>
                </div>
                <div class="top-bar-right">
                    <div class="language-toggle">
                        <span class="lang-option active-lang">EN</span>
                        <span class="lang-divider">/</span>
                        <span class="lang-option">FR</span>
                    </div>
                    <a href="#" class="help-link">
                        <svg class="help-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z">
                            </path>
                        </svg>
                        <span>Help Center</span>
                    </a>
                </div>
            </div>
        </div>

        <!-- Main Header -->
        <div class="main-header">
            <div class="main-header-container">
                <!-- Logo -->
                <a href="../index.html" class="header-logo">
                    <div class="logo-text">
                        <span class="logo-icon">üçÅ</span>
                        <div>
                            Canadian Classifieds
                            <div class="logo-tagline">AI-Powered</div>
                        </div>
                    </div>
                </a>

                <!-- Navigation -->
                <nav class="main-nav">
                    <ul class="nav-menu">
                        <li class="nav-item">
                            <a href="../index.html" class="nav-link">
                                Home
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="browse-listings.html" class="nav-link active">
                                Browse Listings
                            </a>
                        </li>
                        <li class="nav-item">
                            <a href="../index.html#how-it-works" class="nav-link">How It Works</a>
                        </li>
                        <li class="nav-item">
                            <a href="../index.html#safety" class="nav-link">Safety & Trust</a>
                        </li>
                        <li class="nav-item">
                            <a href="about.html" class="nav-link">About</a>
                        </li>
                    </ul>
                </nav>

                <!-- Header Actions -->
                <div class="header-actions">
                    <!-- Search Toggle -->
                    <button class="search-toggle" aria-label="Search">
                        <svg class="search-icon-header" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
                        </svg>
                    </button>

                    <!-- Post Ad Button -->
                    <button class="post-ad-btn">
                        <svg class="post-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4">
                            </path>
                        </svg>
                        <span>Post Your Ad</span>
                    </button>

                    <!-- User Menu -->
                    <button class="user-menu-toggle" aria-label="User menu">
                        <svg class="user-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path>
                        </svg>
                    </button>

                    <!-- Mobile Menu Toggle -->
                    <button class="mobile-menu-toggle" aria-label="Toggle menu">
                        <svg class="hamburger-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M4 6h16M4 12h16M4 18h16"></path>
                        </svg>
                    </button>
                </div>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="browse-page">
        <div class="browse-container">
            <!-- Page Header -->
            <div class="page-header">
                <h1 class="page-title">Browse Listings</h1>
                <p class="page-subtitle">Discover amazing deals across Canada</p>
            </div>

            <!-- Search and Filter Bar -->
            <div class="search-filter-bar">
                <div class="search-container">
                    <svg class="search-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                            d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
                    </svg>
                    <input type="text" id="searchInput" class="search-input"
                        placeholder="Search for items, brands, or keywords...">
                </div>
                <button class="filter-toggle-btn" id="filterToggle">
                    <svg class="filter-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                            d="M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4">
                        </path>
                    </svg>
                    <span>Filters</span>
                </button>
            </div>

            <div class="browse-content">
                <!-- Sidebar Filters (Desktop) -->
                <aside class="filters-sidebar" id="filtersSidebar">
                    <div class="filters-header">
                        <h3>Filters</h3>
                        <button class="clear-filters" id="clearFilters">Clear All</button>
                    </div>

                    <!-- Category Filter -->
                    <div class="filter-section">
                        <h4 class="filter-title">Category</h4>
                        <div class="filter-options" id="categoryFilters">
                            <!-- Will be populated by JavaScript -->
                        </div>
                    </div>

                    <!-- Price Range Filter -->
                    <div class="filter-section">
                        <h4 class="filter-title">Price Range</h4>
                        <div class="price-inputs">
                            <input type="number" id="minPrice" class="price-input" placeholder="Min">
                            <span class="price-separator">‚Äî</span>
                            <input type="number" id="maxPrice" class="price-input" placeholder="Max">
                        </div>
                    </div>

                    <!-- Location Filter -->
                    <div class="filter-section">
                        <h4 class="filter-title">Location</h4>
                        <select id="locationFilter" class="filter-select">
                            <option value="">All Locations</option>
                            <option value="Toronto,ON">Toronto, ON</option>
                            <option value="Vancouver,BC">Vancouver, BC</option>
                            <option value="Montreal,QC">Montreal, QC</option>
                            <option value="Calgary,AB">Calgary, AB</option>
                            <option value="Edmonton,AB">Edmonton, AB</option>
                            <option value="Ottawa,ON">Ottawa, ON</option>
                            <option value="Winnipeg,MB">Winnipeg, MB</option>
                            <option value="Quebec City,QC">Quebec City, QC</option>
                            <option value="Halifax,NS">Halifax, NS</option>
                        </select>
                    </div>

                    <!-- Condition Filter -->
                    <div class="filter-section">
                        <h4 class="filter-title">Condition</h4>
                        <div class="filter-options" id="conditionFilters">
                            <label class="filter-checkbox">
                                <input type="checkbox" value="New">
                                <span>New</span>
                            </label>
                            <label class="filter-checkbox">
                                <input type="checkbox" value="Like New">
                                <span>Like New</span>
                            </label>
                            <label class="filter-checkbox">
                                <input type="checkbox" value="Excellent">
                                <span>Excellent</span>
                            </label>
                            <label class="filter-checkbox">
                                <input type="checkbox" value="Good">
                                <span>Good</span>
                            </label>
                        </div>
                    </div>

                    <!-- Posted Date Filter -->
                    <div class="filter-section">
                        <h4 class="filter-title">Posted</h4>
                        <select id="dateFilter" class="filter-select">
                            <option value="">Any Time</option>
                            <option value="24h">Last 24 hours</option>
                            <option value="7d">Last 7 days</option>
                            <option value="30d">Last 30 days</option>
                        </select>
                    </div>
                </aside>

                <!-- Listings Section -->
                <div class="listings-section">
                    <!-- Toolbar -->
                    <div class="listings-toolbar">
                        <div class="results-count" id="resultsCount">
                            <!-- Will be populated by JavaScript -->
                        </div>
                        <div class="toolbar-actions">
                            <select id="sortSelect" class="sort-select">
                                <option value="newest">Newest First</option>
                                <option value="price-low">Price: Low to High</option>
                                <option value="price-high">Price: High to Low</option>
                                <option value="distance">Nearest First</option>
                            </select>
                            <div class="view-toggle">
                                <button class="view-btn active" data-view="grid" aria-label="Grid view">
                                    <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                            d="M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z">
                                        </path>
                                    </svg>
                                </button>
                                <button class="view-btn" data-view="list" aria-label="List view">
                                    <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                            d="M4 6h16M4 12h16M4 18h16"></path>
                                    </svg>
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- Active Filters Chips -->
                    <div class="active-filters" id="activeFilters">
                        <!-- Will be populated by JavaScript -->
                    </div>

                    <!-- Listings Grid -->
                    <div class="listings-grid" id="listingsGrid">
                        <!-- Will be populated by JavaScript -->
                    </div>

                    <!-- Loading State -->
                    <div class="loading-state" id="loadingState" style="display: none;">
                        <div class="loading-spinner"></div>
                        <p>Loading listings...</p>
                    </div>

                    <!-- Empty State -->
                    <div class="empty-state" id="emptyState" style="display: none;">
                        <svg class="empty-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z">
                            </path>
                        </svg>
                        <h3>No listings found</h3>
                        <p>Try adjusting your filters or search terms</p>
                        <button class="btn-primary" id="clearAllFilters">Clear All Filters</button>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Firebase SDK (v9 compat mode) -->
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js?v=10"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-auth-compat.js?v=10"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore-compat.js?v=10"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-storage-compat.js?v=10"></script>

    <!-- Scripts -->
    <script src="../js/utils.js?v=10"></script>
    <script src="../js/ui-components.js?v=10"></script>
    <script src="../js/firebase-config.js?v=10"></script>
    <script src="../js/sample-data.js?v=10"></script>
    <script src="../js/search-engine.js?v=10"></script>
    <script src="../js/autocomplete.js?v=10"></script>
    <script src="../js/recently-viewed.js?v=10"></script>
    <script src="../js/header.js?v=10"></script>
    <script src="../js/browse-listings.js?v=10"></script>
</body>

</html>