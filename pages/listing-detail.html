<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="View listing details on Canadian AI Classifieds">
    <title>Listing Details | Canadian AI Classifieds</title>

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=Playfair+Display:wght@400;500;600;700;800&display=swap"
        rel="stylesheet">

    <!-- Stylesheets -->
    <link rel="stylesheet" href="../css/styles.css">
    <link rel="stylesheet" href="../css/header.css">
    <link rel="stylesheet" href="../css/listing-detail.css">
</head>

<body>
    <!-- Premium Glassmorphic Header -->
    <header class="site-header">
        <!-- Top Bar -->
        <div class="top-bar">
            <div class="top-bar-container">
                <div class="top-bar-left">
                    <a href="#" class="location-selector">
                        <svg class="location-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z">
                            </path>
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"></path>
                        </svg>
                        <span>Toronto, ON</span>
                    </a>
                </div>
                <div class="top-bar-right">
                    <div class="language-toggle">
                        <span class="lang-option active-lang">EN</span>
                        <span class="lang-divider">/</span>
                        <span class="lang-option">FR</span>
                    </div>
                    <a href="#" class="help-link">
                        <svg class="help-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z">
                            </path>
                        </svg>
                        <span>Help Center</span>
                    </a>
                </div>
            </div>
        </div>

        <!-- Main Header -->
        <div class="main-header">
            <div class="main-header-container">
                <!-- Logo -->
                <a href="../index.html" class="header-logo">
                    <div class="logo-text">
                        <span class="logo-icon">üçÅ</span>
                        <div>
                            Canadian Classifieds
                            <div class="logo-tagline">AI-Powered</div>
                        </div>
                    </div>
                </a>

                <!-- Navigation -->
                <nav class="main-nav">
                    <ul class="nav-menu">
                        <li class="nav-item">
                            <a href="browse-listings.html" class="nav-link">Browse Listings</a>
                        </li>
                        <li class="nav-item">
                            <a href="../index.html#how-it-works" class="nav-link">How It Works</a>
                        </li>
                        <li class="nav-item">
                            <a href="../index.html#safety" class="nav-link">Safety & Trust</a>
                        </li>
                        <li class="nav-item">
                            <a href="#" class="nav-link">About</a>
                        </li>
                    </ul>
                </nav>

                <!-- Header Actions -->
                <div class="header-actions">
                    <button class="search-toggle" aria-label="Search">
                        <svg class="search-icon-header" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
                        </svg>
                    </button>

                    <button class="post-ad-btn">
                        <svg class="post-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4">
                            </path>
                        </svg>
                        <span>Post Your Ad</span>
                    </button>

                    <button class="user-menu-toggle" aria-label="User menu">
                        <svg class="user-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path>
                        </svg>
                    </button>

                    <button class="mobile-menu-toggle" aria-label="Toggle menu">
                        <svg class="hamburger-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M4 6h16M4 12h16M4 18h16"></path>
                        </svg>
                    </button>
                </div>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="listing-detail-page">
        <div class="detail-container">
            <!-- Breadcrumb -->
            <div class="breadcrumb">
                <a href="../index.html">Home</a>
                <span class="separator">/</span>
                <a href="browse-listings.html">Browse</a>
                <span class="separator">/</span>
                <span id="breadcrumbCategory">Electronics</span>
                <span class="separator">/</span>
                <span id="breadcrumbTitle">Listing</span>
            </div>

            <div class="detail-content">
                <!-- Main Column -->
                <div class="main-column">
                    <!-- Image Gallery -->
                    <div class="image-gallery">
                        <div class="main-image-container">
                            <img id="mainImage" src="" alt="Listing image" class="main-image">
                            <button class="gallery-nav prev-btn" id="prevImage" aria-label="Previous image">
                                <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                        d="M15 19l-7-7 7-7"></path>
                                </svg>
                            </button>
                            <button class="gallery-nav next-btn" id="nextImage" aria-label="Next image">
                                <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                        d="M9 5l7 7-7 7"></path>
                                </svg>
                            </button>
                            <div class="image-counter" id="imageCounter">1 / 3</div>
                        </div>
                        <div class="thumbnail-grid" id="thumbnailGrid">
                            <!-- Thumbnails will be populated by JavaScript -->
                        </div>
                    </div>

                    <!-- Listing Information -->
                    <div class="listing-information">
                        <div class="listing-header">
                            <div>
                                <div class="listing-category" id="listingCategory">Electronics</div>
                                <h1 class="listing-title" id="listingTitle">Loading...</h1>
                            </div>
                            <div class="listing-badges">
                                <span class="badge badge-featured" id="featuredBadge"
                                    style="display:none;">Featured</span>
                                <span class="badge badge-new" id="newBadge" style="display:none;">New</span>
                            </div>
                        </div>

                        <div class="price-section">
                            <div class="price" id="listingPrice">$0</div>
                            <div class="listing-meta-info">
                                <span class="meta-item">
                                    <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                            d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path>
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                            d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z">
                                        </path>
                                    </svg>
                                    <span id="viewCount">0 views</span>
                                </span>
                                <span class="meta-item">
                                    <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                            d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                                    </svg>
                                    <span id="postedTime">Just now</span>
                                </span>
                            </div>
                        </div>

                        <!-- Actions Row -->
                        <div class="actions-row">
                            <button class="btn-primary contact-btn" id="contactBtn">
                                <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                        d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z">
                                    </path>
                                </svg>
                                <span>Contact Seller</span>
                            </button>
                            <button class="btn-secondary favorite-btn" id="favoriteBtn">
                                <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                        d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z">
                                    </path>
                                </svg>
                            </button>
                            <button class="btn-secondary share-btn" id="shareBtn">
                                <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                        d="M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.368 2.684 3 3 0 00-5.368-2.684z">
                                    </path>
                                </svg>
                            </button>
                        </div>

                        <!-- Description -->
                        <div class="description-section">
                            <h2 class="section-heading">Description</h2>
                            <p class="description-text" id="listingDescription">Loading description...</p>
                        </div>

                        <!-- Details -->
                        <div class="details-section">
                            <h2 class="section-heading">Details</h2>
                            <div class="details-grid">
                                <div class="detail-item">
                                    <span class="detail-label">Condition</span>
                                    <span class="detail-value" id="detailCondition">-</span>
                                </div>
                                <div class="detail-item">
                                    <span class="detail-label">Category</span>
                                    <span class="detail-value" id="detailCategory">-</span>
                                </div>
                                <div class="detail-item">
                                    <span class="detail-label">Location</span>
                                    <span class="detail-value" id="detailLocation">-</span>
                                </div>
                                <div class="detail-item">
                                    <span class="detail-label">Posted</span>
                                    <span class="detail-value" id="detailPosted">-</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Sidebar -->
                <aside class="sidebar-column">
                    <!-- Seller Card -->
                    <div class="seller-card">
                        <h3 class="card-heading">Seller Information</h3>
                        <div class="seller-info">
                            <img id="sellerAvatar" src="" alt="Seller" class="seller-avatar">
                            <div class="seller-details">
                                <div class="seller-name-row">
                                    <span class="seller-name" id="sellerName">Anonymous</span>
                                    <span class="verified-badge" id="verifiedBadge" style="display:none;">
                                        <svg fill="currentColor" viewBox="0 0 24 24">
                                            <path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                                        </svg>
                                    </span>
                                </div>
                                <div class="seller-rating" id="sellerRating">
                                    <span class="rating-stars">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</span>
                                    <span class="rating-text">5.0 (0 reviews)</span>
                                </div>
                                <div class="seller-joined" id="sellerJoined">Member since 2024</div>
                            </div>
                        </div>
                        <button class="btn-outline view-profile-btn">View Profile</button>
                    </div>

                    <!-- Safety Tips Card -->
                    <div class="safety-card">
                        <h3 class="card-heading">
                            <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z">
                                </path>
                            </svg>
                            Safety Tips
                        </h3>
                        <ul class="safety-tips">
                            <li>Meet in a public place</li>
                            <li>Check the item before you buy</li>
                            <li>Pay only after collecting item</li>
                            <li>Beware of unrealistic offers</li>
                            <li>Never share financial information</li>
                        </ul>
                        <a href="#" class="learn-more-link">Learn more about safety ‚Üí</a>
                    </div>

                    <!-- Report Card -->
                    <div class="report-card">
                        <button class="report-btn">
                            <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M3 21v-4m0 0V5a2 2 0 012-2h6.5l1 1H21l-3 6 3 6h-8.5l-1-1H5a2 2 0 00-2 2zm9-13.5V9">
                                </path>
                            </svg>
                            Report this listing
                        </button>
                    </div>
                </aside>
            </div>

            <!-- Similar Listings -->
            <section class="similar-listings">
                <h2 class="section-heading">Similar Listings</h2>
                <div class="similar-grid" id="similarGrid">
                    <!-- Will be populated by JavaScript -->
                </div>
            </section>
        </div>
    </main>

    <!-- Image Lightbox Modal -->
    <div class="lightbox-modal" id="lightboxModal">
        <button class="lightbox-close" id="lightboxClose">
            <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
            </svg>
        </button>
        <img id="lightboxImage" src="" alt="Full size image" class="lightbox-image">
        <button class="lightbox-nav prev" id="lightboxPrev">
            <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path>
            </svg>
        </button>
        <button class="lightbox-nav next" id="lightboxNext">
            <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
            </svg>
        </button>
    </div>

    <!-- Firebase SDK (v9 compat mode) -->
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-storage-compat.js"></script>

    <!-- Scripts -->
    <script src="../js/utils.js"></script>
    <script src="../js/ui-components.js"></script>
    <script src="../js/firebase-config.js?v=2"></script>
    <script src="../js/sample-data.js"></script>
    <script src="../js/header.js"></script>
    <script src="../js/listing-detail.js"></script>
</body>

</html>